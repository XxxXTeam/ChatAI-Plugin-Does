# 更新日志

本文档记录 ChatAI Plugin 的版本更新历史。

## [1.2.0] - 2026-02

### 新增
- ✨ 新增群聊总结格式（使用 `#群聊总结2` 测试）
- ✨ 拓展工具列表和工具索引
- ✨ 添加 B 站 cookie 配置支持

### 修复
- 🐛 修复进退群事件处理问题
- 🐛 修复群管理面板前缀获取问题
- 🐛 修复 TRSS 环境端口共享挂载问题

---

## [1.1.0] - 2026-01

### 新增
- ✨ **Skills Agent 实现** - 统一技能代理层
- ✨ **主动对话功能** - 支持 AI 主动参与群聊
- ✨ **定时任务支持** - 群聊定时总结推送
- ✨ **群统计工具模块** - 发言排行、龙王统计等
- ✨ **版本管理** - 支持版本检查和更新通知
- ✨ **系统提示词表达式** - 动态变量支持
- ✨ 自动总结并结束对话功能
- ✨ 自定义对话与模型获取路由
- ✨ 模型重定向支持
- ✨ 临时消息发送登录链接
- ✨ 批量禁言和踢人功能

### 改进
- ⚡ 优化长文本输出处理和渲染
- ⚡ 前端添加初始化引导
- ⚡ 加载速度优化
- ⚡ 完善记忆模块实现
- ⚡ 优化 MCP 客户端 SSE 连接
- ⚡ 优化前端样式，适配手机端
- ⚡ 优化主动发送概率判断
- ⚡ 完善 SSE MCP 工具兼容
- ⚡ 优化群聊总结样式
- ⚡ 优化工具调度逻辑
- ⚡ 添加 Prettier + Husky 代码格式化

### 修复
- 🐛 修复伪人模式上下文传递问题
- 🐛 修复定时总结任务注册错误
- 🐛 修复工具上下文参数信息
- 🐛 修复绘图预设保存问题
- 🐛 修复 pb 发包解码问题
- 🐛 修复文件热重载问题
- 🐛 修复外部工具日志记录
- 🐛 修复工具测试页面崩溃
- 🐛 修复 TTS 工具校验问题
- 🐛 修复清理记忆失败问题
- 🐛 修复预设 404 问题
- 🐛 修复画像绘制异常
- 🐛 修复渠道错误状态处理
- 🐛 修复浏览器签名校验问题
- 🐛 修复引用解析错误

---

## [1.0.0] - 2024-12

### 新增

- 🎉 全新架构设计
  - 基于 MCP 协议的工具系统
  - Skills Agent 技能代理层
  - 模块化分层架构

- 🤖 多模型支持
  - OpenAI (GPT-4o, GPT-4, GPT-3.5)
  - Anthropic Claude (Claude 3.5, Claude 3)
  - Google Gemini (Gemini 2.0, Gemini 1.5)
  - DeepSeek, Moonshot 等兼容 API

- 🔧 MCP 工具系统
  - 内置工具（基础、用户、群组、消息、媒体、网络）
  - 自定义 JS 工具支持
  - 外部 MCP 服务器接入（npm/stdio/SSE/HTTP）
  - 工具热重载

- 🧠 长期记忆
  - 基于向量数据库的语义检索
  - 用户/群组/全局记忆
  - 自动记忆识别与保存

- 💬 对话管理
  - 多种上下文清理策略
  - 对话持久化
  - 引用消息解析

- 🎨 Web 管理面板
  - 现代化 UI 设计
  - 渠道/预设/工具可视化配置
  - 群组独立配置
  - 实时状态监控

- 🔒 安全控制
  - 危险工具管控
  - 管理员权限工具
  - 预设级工具过滤
  - 调用日志审计

### 改进

- ⚡ 性能优化
  - 并行工具执行
  - 工具结果缓存
  - 流式响应支持

- 📝 文档完善
  - VitePress 文档站点
  - 完整的 API 参考
  - 工具开发指南

---

## 版本规划

### 即将推出

- [ ] 图片生成增强
- [ ] 语音对话支持
- [ ] 插件市场
- [ ] 更多 MCP 服务器预置
---

## 贡献者

感谢所有为项目做出贡献的开发者！

---

## 反馈

如果你有任何问题或建议，欢迎：
- 提交 [GitHub Issue](https://github.com/XxxXTeam/chatai-pluginissues)
- 参与 [Discussions](https://github.com/XxxXTeam/chatai-plugindiscussions)
