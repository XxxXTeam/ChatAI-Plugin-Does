# Galgame 游戏模块

Galgame 模块提供类似视觉小说的对话游戏体验，支持好感度系统、事件触发和沉浸式剧情。

## 功能特点

- 🎭 **AI 驱动剧情** - AI 实时生成剧情和角色反应
- 💕 **好感度系统** - 根据选择影响角色好感度
- 🎬 **事件触发** - 不同好感度解锁不同剧情事件
- 💾 **存档系统** - 自动保存游戏进度
- 🎨 **多种世界观** - 校园、奇幻、都市、古风、科幻等

## 快速开始

### 开始新游戏

```bash
#游戏开始
```

发送命令后，AI 会随机生成一个角色和场景，开始你的 Galgame 冒险。

### 继续游戏

```bash
#游戏继续
```

恢复上次的游戏进度，继续与角色互动。

### 结束游戏

```bash
#游戏结束
```

结束当前游戏会话（进度会自动保存）。

## 游戏玩法

### 对话互动

直接发送消息与角色对话：

```
你好，很高兴认识你
今天天气真好呢
你平时喜欢做什么？
```

### 选项选择

当出现剧情选项时，AI 会显示类似：

```
[选项1:陪她一起去图书馆]
[选项2:说有事先走了]
[选项3:邀请她一起吃饭]
```

通过回复数字或表情来选择：
- 回复 `1` 或 `选项1` 选择第一个选项
- 点击对应的表情回应

### 事件触发

特殊事件会有成功率判定：

```
[触发事件:送礼物|精心挑选的礼物|成功率70]
[事件选项1:亲手送给她|+15|-5]
[事件选项2:偷偷放在桌上|+8|-2]
```

选择后会根据成功率和选项判定结果。

## 好感度系统

### 好感度等级

| 好感度 | 等级 | 说明 |
|--------|------|------|
| -100 ~ -50 | 😠 厌恶 | 角色非常讨厌你 |
| -49 ~ -20 | 😒 反感 | 角色对你有负面印象 |
| -19 ~ 0 | 😐 冷淡 | 角色对你比较冷漠 |
| 1 ~ 20 | 🙂 陌生 | 刚认识的状态 |
| 21 ~ 40 | 😊 熟悉 | 逐渐熟悉起来 |
| 41 ~ 60 | 😄 好感 | 角色对你有好感 |
| 61 ~ 80 | 🥰 喜欢 | 角色喜欢你 |
| 81 ~ 100 | 💕 爱慕 | 角色爱慕你 |
| 100+ | 💖 挚爱 | 最高好感度 |

### 好感度影响

不同好感度等级会影响：
- 角色的对话态度和亲密程度
- 可触发的事件类型
- 剧情走向和结局

## 命令列表

| 命令 | 说明 |
|------|------|
| `#游戏开始` | 开始新的 Galgame |
| `#游戏继续` | 继续上次的游戏 |
| `#游戏结束` | 结束当前游戏 |
| `#游戏状态` | 查看当前游戏状态 |
| `#游戏存档` | 查看存档列表 |

## 游戏状态

使用 `#游戏状态` 查看：

```
🎮 游戏状态
━━━━━━━━━━
角色: 小雪
好感度: 45 😄 好感
关系: 朋友
当前场景: 图书馆
```

## 技巧与建议

### 提升好感度

1. **关心角色** - 询问角色的喜好和状态
2. **投其所好** - 根据角色性格选择合适的话题
3. **适时送礼** - 在合适的时机送出礼物
4. **保持互动** - 经常与角色对话

### 避免降低好感度

1. **避免冒犯** - 不要触及角色厌恶的话题
2. **尊重角色** - 不要强迫角色做不喜欢的事
3. **谨慎选择** - 重要选项要仔细考虑

## 世界观设定

游戏开始时会随机生成世界观：

- **校园** - 学校日常，青春恋爱
- **奇幻** - 魔法世界，冒险故事
- **都市** - 现代都市，职场恋爱
- **古风** - 古代背景，诗意浪漫
- **科幻** - 未来世界，科技元素

## 数据存储

游戏数据自动保存在本地数据库：
- 游戏会话和进度
- 对话历史
- 好感度和关系状态
- 已触发的事件

## 下一步

- [命令列表](./commands) - 查看所有命令
- [预设与人格](./presets) - 自定义 AI 人格
