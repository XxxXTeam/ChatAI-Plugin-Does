# 命令列表

ChatAI Plugin 提供了丰富的命令来控制 AI 对话、管理群组设置和执行各种功能。

::: tip 命令前缀
默认命令前缀为 `#ai`，可在配置中修改。下文中 `{prefix}` 代表你配置的命令前缀。
:::

## 💬 对话命令

基础的对话管理命令，所有用户可用。

| 命令 | 说明 | 示例 |
|:-----|:-----|:-----|
| `#结束对话` | 结束当前对话，清除上下文 | `#结束对话` |
| `#新对话` | 同上，开始新的对话 | `#新对话` |
| `#清除记忆` | 清除个人记忆数据 | `#清除记忆` |
| `#对话状态` | 查看当前对话详细状态 | `#对话状态` |
| `#我的记忆` | 查看已保存的记忆列表 | `#我的记忆` |
| `#总结记忆` | 整理合并记忆条目 | `#总结记忆` |
| `#chatdebug` | 切换聊天调试模式 | `#chatdebug on` |

## 👥 群聊功能

群聊相关的功能命令。

| 命令 | 说明 | 示例 |
|:-----|:-----|:-----|
| `#群聊总结` | AI 总结近期群聊内容 | `#群聊总结` |
| `#今日群聊` | 现代风格群聊总结 | `#今日群聊` |
| `#个人画像` | 分析用户个人画像 | `#个人画像` |
| `#画像@xxx` | 分析指定用户画像 | `#画像@用户` |
| `#今日词云` | 生成群聊词云图 | `#今日词云` |
| `#群记忆` | 查看群聊共享记忆 | `#群记忆` |

## 🎨 绘图功能

AI 绘图相关命令，需要配置支持图片生成的模型。

| 命令 | 说明 | 示例 |
|:-----|:-----|:-----|
| `画 <描述>` | AI 绘图，支持中英文描述 | `画 一只可爱的猫咪` |
| `手办化` | 将图片转换为手办风格 | 回复图片发送 `手办化` |
| `Q版` | 生成 Q 版表情包 | 回复图片发送 `Q版` |
| `动漫化` | 将图片转换为动漫风格 | 回复图片发送 `动漫化` |
| `赛博朋克` | 转换为赛博朋克风格 | 回复图片发送 `赛博朋克` |
| `油画` | 转换为油画风格 | 回复图片发送 `油画` |
| `水彩` | 转换为水彩画风格 | 回复图片发送 `水彩` |

::: tip 图片风格转换
风格转换需要回复一张图片，然后发送对应的关键词触发转换。
:::

## 🎮 Galgame 游戏

AI 驱动的 Galgame 文字冒险游戏。

| 命令 | 说明 | 示例 |
|:-----|:-----|:-----|
| `#游戏开始` | 开始新的 Galgame 冒险 | `#游戏开始` |
| `#游戏继续` | 继续上次的游戏进度 | `#游戏继续` |
| `#游戏结束` | 结束当前游戏会话 | `#游戏结束` |
| `#游戏存档` | 查看游戏存档列表 | `#游戏存档` |
| `#游戏状态` | 查看当前游戏状态 | `#游戏状态` |

## 🎭 人格设定

自定义 AI 人格的命令。

| 命令 | 说明 | 权限 |
|:-----|:-----|:-----|
| `{prefix}设置人格 <内容>` | 设置个人专属人格 | 所有用户 |
| `{prefix}查看人格` | 查看当前生效的人格 | 所有用户 |
| `{prefix}清除人格` | 清除个人人格设定 | 所有用户 |
| `{prefix}设置群人格 <内容>` | 设置群组人格 | 主人 |
| `{prefix}清除群人格` | 清除群组人格设定 | 主人 |

::: info 人格优先级
人格配置的优先级为：**群内用户 > 群组 > 用户全局 > 默认预设**
:::

## ⚙️ 群管理命令

群组管理相关命令，需要群管理员或主人权限。

| 命令 | 说明 | 权限 |
|:-----|:-----|:-----|
| `#群管理面板` | 获取群设置 Web 面板 | 群管理员 |
| `{prefix}群设置` | 查看本群功能状态 | 群管理员 |
| `{prefix}群伪人开启` | 开启本群伪人模式 | 群管理员 |
| `{prefix}群伪人关闭` | 关闭本群伪人模式 | 群管理员 |
| `{prefix}群绘图开启` | 开启本群绘图功能 | 群管理员 |
| `{prefix}群绘图关闭` | 关闭本群绘图功能 | 群管理员 |

## 📡 群渠道与限制

群组渠道和使用限制配置。

| 命令 | 说明 | 权限 |
|:-----|:-----|:-----|
| `{prefix}群渠道设置` | 查看群独立渠道配置 | 群管理员 |
| `{prefix}群禁用全局` | 禁用全局渠道 | 群管理员 |
| `{prefix}群启用全局` | 启用全局渠道 | 群管理员 |
| `{prefix}群限制设置` | 查看使用限制 | 群管理员 |
| `{prefix}群限制 <群限> <用户限>` | 设置每日使用限制 | 群管理员 |
| `{prefix}群使用统计` | 查看今日使用情况 | 群管理员 |
| `{prefix}群重置统计` | 重置今日统计 | 群管理员 |

::: tip 使用限制示例
`#ai群限制 100 20` 表示设置群每日 100 次，每用户每日 20 次的使用限制。
:::

## 👑 主人命令

仅限 Bot 主人使用的管理命令。

| 命令 | 说明 |
|:-----|:-----|
| `{prefix}管理面板` | 获取 Web 管理面板（临时链接） |
| `{prefix}管理面板 永久` | 获取 Web 管理面板（永久链接） |
| `{prefix}状态` | 查看插件运行状态 |
| `{prefix}调试开启/关闭` | 切换调试模式 |
| `{prefix}伪人开启/关闭` | 切换全局伪人模式 |
| `{prefix}设置模型 <名称>` | 设置默认使用的模型 |
| `{prefix}结束全部对话` | 清除所有用户的对话 |

## 🔄 版本更新

插件版本管理命令。

| 命令 | 说明 | 权限 |
|:-----|:-----|:-----|
| `#ai版本` | 查看当前版本信息 | 所有用户 |
| `#ai检查更新` | 检查是否有新版本 | 主人 |
| `#ai更新` | 更新插件到最新版 | 主人 |
| `#ai强制更新` | 强制更新（覆盖本地修改） | 主人 |
| `#ai更新日志` | 查看提交历史 | 主人 |

## 🤖 触发方式

除了命令触发外，还支持以下触发方式与 AI 对话：

### @触发
直接 @机器人 并发送消息即可触发对话。

### 前缀触发
使用配置的触发前缀（默认 `#chat`）开头的消息会触发对话：
```
#chat 你好
```

### 关键词触发
在消息中包含配置的关键词（如机器人昵称）会触发对话。

### 随机触发
在群聊中有一定概率随机触发回复（伪人模式）。

## 📝 使用示例

### 基础对话
```
@机器人 今天天气怎么样？
#chat 帮我写一首诗
```

### AI 绘图
```
画 一只戴着墨镜的柯基在海边冲浪
```

### 图片风格转换
1. 发送一张图片
2. 回复该图片并发送 `手办化`

### 群聊总结
```
#群聊总结
#今日词云
```

### 设置人格
```
#ai设置人格 你是一个傲娇的猫娘，说话时喜欢在句末加上"喵~"
```

---

::: tip 获取帮助
发送 `#ai帮助` 可以在 Bot 中查看命令帮助图片。
:::
